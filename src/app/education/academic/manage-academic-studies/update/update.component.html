<div class="panel-container">
  <form [formGroup]="manageAcademicForm" (ngSubmit)="saveAcademics()">
    <div class="form-row">
      <div class="form-group col-md-6 mb-6">
        <label for="inputEducationalInstitution">Educational Instituion</label>
        <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('educationalInstitution').invalid && (manageAcademicForm.get('educationalInstitution').dirty || manageAcademicForm.get('educationalInstitution').touched) && manageAcademicForm.controls['educationalInstitution'].errors ? 'is-invalid' : ''"
               id="inputEducationalInstitution" placeholder="Educational Institution" formControlName="educationalInstitution">
        <div class="invalid-feedback" *ngIf="manageAcademicForm.get('educationalInstitution').invalid && (manageAcademicForm.get('educationalInstitution').dirty || manageAcademicForm.get('educationalInstitution').touched)">
          <span *ngIf="manageAcademicForm.controls['educationalInstitution'].hasError('required')">This field is required</span>
          <span *ngIf="manageAcademicForm.controls['educationalInstitution'].hasError('maxlength')">Max length of this field is 50 characters</span>
        </div>
      </div>
      <div class="form-group col-md-6 mb-6">
        <label for="inputformation">Formation</label>
        <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('formation').invalid && (manageAcademicForm.get('formation').dirty || manageAcademicForm.get('formation').touched) && manageAcademicForm.controls['formation'].errors ? 'is-invalid' : ''"
               id="inputformation" placeholder="Formation" formControlName="formation">
        <div class="invalid-feedback" *ngIf="manageAcademicForm.get('formation').invalid && (manageAcademicForm.get('formation').dirty || manageAcademicForm.get('formation').touched)">
          <span *ngIf="manageAcademicForm.controls['formation'].hasError('required')">This field is required</span>
          <span *ngIf="manageAcademicForm.controls['formation'].hasError('maxlength')">Max length of this field is 10 characters</span>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6 mb-6">
        <label for="fieldOfStudy">Field of Study</label>
        <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('fieldOfStudy').invalid && (manageAcademicForm.get('fieldOfStudy').dirty || manageAcademicForm.get('fieldOfStudy').touched) && manageAcademicForm.controls['fieldOfStudy'].errors ? 'is-invalid' : ''"
               id="fieldOfStudy" placeholder="Field of Study" formControlName="fieldOfStudy">
        <div class="invalid-feedback" *ngIf="manageAcademicForm.get('fieldOfStudy').invalid && (manageAcademicForm.get('fieldOfStudy').dirty || manageAcademicForm.get('fieldOfStudy').touched)">
          <span *ngIf="manageAcademicForm.controls['fieldOfStudy'].hasError('required')">This field is required</span>
        </div>
      </div>
      <div class="form-group col-md-6 mb-6">
        <label for="inputStartDate">Start Date</label>
        <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('startDate').invalid && (manageAcademicForm.get('startDate').dirty || manageAcademicForm.get('startDate').touched) && manageAcademicForm.controls['startDate'].errors ? 'is-invalid' : ''"
               id="inputStartDate" placeholder="Start Date" formControlName="companyAddress">
        <div class="invalid-feedback" *ngIf="manageAcademicForm.get('startDate').invalid && (manageAcademicForm.get('startDate').dirty || manageAcademicForm.get('startDate').touched)">
          <span *ngIf="manageAcademicForm.controls['startDate'].hasError('required')">This field is required</span>
        </div>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-6 mb-6">
        <label for="inputEndDate">End Date</label>
        <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('endDate').invalid && (manageAcademicForm.get('endDate').dirty || manageAcademicForm.get('endDate').touched) && manageAcademicForm.controls['endDate'].errors ? 'is-invalid' : ''"
               id="inputEndDate" placeholder="End Date" formControlName="endDate">
        <div class="invalid-feedback" *ngIf="manageAcademicForm.get('endDate').invalid && (manageAcademicForm.get('endDate').dirty || manageAcademicForm.get('endDate').touched)">
          <span *ngIf="manageAcademicForm.controls['endDate'].hasError('required')">This field is required</span>
        </div>
      </div>
      <div class="form-row">
        <div class="form-group col-md-6 mb-6">
          <label for="inputGrade">Grade</label>
          <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('grade').invalid && (manageAcademicForm.get('grade').dirty || manageAcademicForm.get('grade').touched) && manageAcademicForm.controls['grade'].errors ? 'is-invalid' : ''"
                 id="inputGrade" placeholder="Grade" formControlName="grade">
          <div class="invalid-feedback" *ngIf="manageAcademicForm.get('grade').invalid && (manageAcademicForm.get('grade').dirty || manageAcademicForm.get('grade').touched)">
            <span *ngIf="manageAcademicForm.controls['grade'].hasError('required')">This field is required</span>
          </div>
        </div>
        <div class="form-group col-md-2 mb-2">
          <label for="inputActivities">Activities</label>
          <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('activities').invalid && (manageAcademicForm.get('activities').dirty || manageAcademicForm.get('activities').touched) && manageAcademicForm.controls['activities'].errors ? 'is-invalid' : ''"
                 id="inputActivities" placeholder="Activities" formControlName="activities">
          <div class="invalid-feedback" *ngIf="manageAcademicForm.get('activities').invalid && (manageAcademicForm.get('activities').dirty || manageAcademicForm.get('activities').touched)">
            <span *ngIf="manageAcademicForm.controls['activities'].hasError('required')">This field is required</span>
          </div>
        </div>
        <div class="form-group col-md-2 mb-2">
          <label for="inputDescription">Description</label>
          <input type="text" class="form-control" [ngClass]="manageAcademicForm.get('discription').invalid && (manageAcademicForm.get('discription').dirty || manageAcademicForm.get('discription').touched) && manageAcademicForm.controls['discription'].errors ? 'is-invalid' : ''"
                 id="inputDescription" placeholder="Discription" formControlName="discription">
          <div class="invalid-feedback" *ngIf="manageAcademicForm.get('discription').invalid && (manageAcademicForm.get('discription').dirty || manageAcademicForm.get('discription').touched)">
            <span *ngIf="manageAcademicForm.controls['discription'].hasError('required')">This field is required</span>
          </div>
        </div>
      </div>
      <div class="form-group">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="personnelProjectCheckBox" formControlName="personnelProject">
          <label class="form-check-label" for="personnelProjectCheckBox">
            Personnel Project
          </label>
        </div>
      </div>
      <hr>
      <h4 id="project-team-members-heading">
        <span>Team Members</span>
        <button type="button" id="new-team-member-btn" class="btn btn-primary float-right" (click)="addProjectTeamMember()">
          <i class="fa fa-plus"></i>
          <span>
          Add new project team member
        </span>
        </button>
      </h4>
      <br/>
      <div class="table-responsive" *ngIf="projectTeamMembersControls.length > 0">
        <table class="table table-striped">
          <thead class="thead-dark">
          <tr>
            <th><span>ID</span></th>
            <th><span>Member Specialization</span></th>
            <th><span>Member Name</span></th>
            <th><span>Start Date</span></th>
            <th><span>End Date</span></th>
            <th></th>
          </tr>
          </thead>
          <tbody>
          <tr *ngFor="let projectTeamMember of projectTeamMembersControls; index as i;" formArrayName="projectTeamMembers">
            <ng-container [formGroupName]="i">
              <td>{{ projectTeamMember.get('id').value }}</td>
              <td>
                <select class="form-control" name="memberSpecialization-{{i}}" id="memberSpecialization-{{i}}" formControlName="memberSpecialization">
                  <option value="PM">Project Manager</option>
                  <option value="TECH_ARCH">Technical Architect</option>
                  <option value="DEVOPS">DevOps</option>
                  <option value="SD">Senior Developer</option>
                  <option value="D">Developer</option>
                  <option value="TM">Test Manager</option>
                  <option value="T">Tester</option>
                </select>
              </td>
              <td>
                <input type="text" class="form-control" name="memberName-{{i}}" id="memberName-{{i}}" formControlName="memberName"/>
              </td>
              <td>
                <input type="date" class="form-control" name="startDate-{{i}}" id="startDate-{{i}}" formControlName="startDate"/>
              </td>
              <td>
                <input type="date" class="form-control" name="endDate-{{i}}" id="endDate-{{i}}" formControlName="endDate"/>
              </td>
              <td class="text-right">
                <div class="btn-group flex-btn-group-container">
                  <button type="button" class="btn btn-danger btn-sm" (click)="deleteProjectTeamMember(i)">
                    <i class="fa fa-times"></i>
                    <span class="d-none d-md-inline"> Delete</span>
                  </button>
                </div>
              </td>
            </ng-container>
          </tbody>
        </table>
      </div>
      <div class="row margin-top-10">
        <div class="col-12">
          <re-captcha formControlName="formRecaptcha"></re-captcha>
        </div>
      </div>
      <div class="margin-top-20">
        <button type="button" id="cancel-save" class="btn btn-secondary margin-right-10" (click)="previousState()">
          <i class="fa fa-ban"></i><span>Cancel</span>
        </button>
        <button type="submit" id="save-entity" [disabled]="manageAcademicForm.invalid || isSaving" class="btn btn-primary">
          <i class="fa fa-save"></i><span>Save</span>
        </button>
      </div>
    </div>
  </form>
</div>
